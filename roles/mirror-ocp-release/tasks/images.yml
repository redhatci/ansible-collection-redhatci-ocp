---
- name: "Mirror IPI Disk Images"
  include_tasks: fetch.yml
  vars:
    uri: "{{ ocp_release_data['rhcos_images'][item + '_location'] }}"
    checksum: "sha256:{{ ocp_release_data['rhcos_images'][item + '_sha256']}}"
  loop:
    - openstack
    - qemu
  when:
    - install_type == 'ipi'

- name: "Mirror SNO Baremetal Disk Images"
  include_tasks: fetch.yml
  vars:
    uri: "{{ ocp_release_data['rhcos_images']['metal_pxe_rootfs_location'] }}"
    checksum: "sha256:{{ ocp_release_data['rhcos_images']['metal_pxe_rootfs_sha256']}}"
  when:
    - install_type == 'sno'
    - sno_install_type == 'baremetal'

- name: "Mirror SNO Virtual Disk Images"
  include_tasks: fetch.yml
  vars:
    uri: "{{ ocp_release_data['rhcos_images']['metal_iso_location'] }}"
    checksum: "sha256:{{ ocp_release_data['rhcos_images']['metal_iso_sha256']}}"
    setype: "virt_content_t"
  when:
    - install_type == 'sno'
    - sno_install_type == 'virtual'

- name: "Mirror Assisted Installer Disk Images"
  include_tasks: fetch.yml
  vars:
    uri: "{{ ocp_release_data['rhcos_images'][item + '_location'] }}"
    checksum: "sha256:{{ ocp_release_data['rhcos_images'][item + '_sha256']}}"
  loop:
    - metal_iso
    - metal_pxe_rootfs
  when:
    - install_type == 'assisted'
...
